
<h2><a href="https://mlbors.tumblr.com/post/160652071165/a-small-php-project-with-homestead">A small PHP project with Homestead</a></h2>

<p>In this post, we are going to initialize a simple <i>PHP</i> project with <i>Laravel Homestead</i>.</p><p><i>Laravel Homestead</i> is a pre-packaged <i>Vagrant box</i> that provides a development environment without requiring us to install <i>PHP</i>, a web server or any other server software on our local machine.</p><p>The first thing we have to do is to download and install <a href="http://t.umblr.com/redirect?z=https%3A%2F%2Fwww.virtualbox.org%2Fwiki%2FDownloads&amp;t=YzExZmQzYjc4MDYxMjhmZGRmNGM4MmMzMDYyNTRlMzFiZmE2N2EwYSxZdEFtenk2Ug%3D%3D&amp;b=t%3APvFStJ09nuU-AEDjlENUmg&amp;p=https%3A%2F%2Fmlbors.tumblr.com%2Fpost%2F160652071165%2Fa-small-php-project-with-homestead&amp;m=1">VirutalBox</a> and <a href="http://t.umblr.com/redirect?z=https%3A%2F%2Fwww.vagrantup.com%2Fdownloads.html&amp;t=ZTQ2YTZhM2YxNjg5ZTQ5Zjg3NDBjMTA1OWEzZmVhMmUyYzI5ZWQ0ZCxZdEFtenk2Ug%3D%3D&amp;b=t%3APvFStJ09nuU-AEDjlENUmg&amp;p=https%3A%2F%2Fmlbors.tumblr.com%2Fpost%2F160652071165%2Fa-small-php-project-with-homestead&amp;m=1">Vagrant</a>. When it is done, we can add the <i>laravel/homestead box</i> to our <i>Vagrant</i> installation using the following command in our terminal:</p><pre><code>vagrant box add laravel/homestead</code></pre><p><small><i>Add Homestead box to Vagrant</i></small></p><p>Now, let’s go to our “home” directory and install <i>Homestead</i> using <i>Git</i>:</p><pre><code>cd ~
git clone <a href="http://t.umblr.com/redirect?z=https%3A%2F%2Fgithub.com%2Flaravel%2Fhomestead.git&amp;t=YjVmYzNlNzk0MTJlNmQ3ODM3NjQ4ZjdjYjZhMDYyNTUwYjk2MTBmYixZdEFtenk2Ug%3D%3D&amp;b=t%3APvFStJ09nuU-AEDjlENUmg&amp;p=https%3A%2F%2Fmlbors.tumblr.com%2Fpost%2F160652071165%2Fa-small-php-project-with-homestead&amp;m=1">https://github.com/laravel/homestead.git</a> Homestead</code></pre><p><small><i>Clone Homestead</i></small></p><p>Once the <i>Homestead</i> directory is cloned, we can go into that last one and initialize <i>Homestead</i>:</p><pre><code>cd Homestead
bash init.sh</code></pre><p><small><i>Initialize Homestead</i></small></p><p>Now we have to configure our installation by opening the <i>Homstead.yaml</i> file in our directory. First, we need to set the <i>provider</i>:</p><pre><code>provider: virtualbox</code></pre><p><small><i>Provider section in Homestead.yaml</i></small></p><p>We may have to generate our <i>SSH key</i> by doing the following command:</p><pre><code>ssh-keygen -t rsa</code></pre><p><small><i>Generate SSH key</i></small></p><p>By default, our key will be saved in our “home” directory.</p><p>Let’s now set the <i>folders</i> property. That last one lists all of the folders we want to share with our <i>Homestead</i> environment. As files within these folders are changed, they will be kept in sync between our local machine and the <i>Homestead</i> environment.</p><pre><code>folders:
    - map: ~/Code/Php
      to: /home/vagrant/Code</code></pre><p><small><i>Folders section in Homestead.yaml</i></small></p><p>We are now going to map our sites:</p><pre><code>sites:
    - map: our-project-name.dev
      to: /home/vagrant/Code/our-project-name.dev/
    - map: second-project.dev
      to: /home/vagrant/Code/second-project.dev/web
      type: symfony</code></pre><p><small><i>Sites section in Homestead.yaml</i></small></p><p>We need to set a few things in our <i>hosts</i> file. On <i>macOS</i> and <i>Linux</i>, this file is located at <i>/etc/hosts</i>. On <i>Windows</i>, it is located at <i>C:\Windows\System32\drivers\etc\hosts</i>. Let’s add the following lines:</p><pre><code># Vagrant
192.168.10.10 our-project-name.dev
192.168.10.10 second-project.dev</code></pre><p><small><i>Hosts file</i></small></p><p>We have to make sure that the IP address listed is the one set in our <i>Homestead.yaml</i> file.</p><p>We can run our <i>box</i> by doing the folliwng command:</p><pre><code>vagrant up —-provision</code></pre><p><small><i>Provision and run the box</i></small></p><p>If we make any change in the <i>Homestead.yaml</i> file, we need to update the <i>Nginx</i> configuration on the <i>virtual machine</i> with the following command:</p><pre><code>vagrant reload --provision</code></pre><p><small><i>Reload the box</i></small></p><p>If everything is alright, we can now access to <i>our-project-name.dev</i> and <i>second-project.dev</i> via our web browser.</p><p>We may also need to connect to our machine to install some stuff. If so, we can do it like so from our <i>Homestead</i> directory:</p><pre><code>vagrant ssh</code></pre><p><small><i>Connection using SSH</i></small></p><p>A <i>homestead database</i> is configured for both <i>MySQL</i> and <i>Postgres</i> out of the box. To connect to our <i>MySQL</i> or <i>Postgres</i> database from our host machine’s database client, we have to connect to 127.0.0.1 and port 33060 (MySQL) or 54320 (Postgres). For both databases, the username is <i>homestead</i> and the password is <i>secret</i>.</p>

